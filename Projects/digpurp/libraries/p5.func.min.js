(function(root,factory){if(typeof define==="function"&&define.amd)define("p5.func",["p5"],function(p5){factory(p5)});else if(typeof exports==="object")factory(require("../p5"));else factory(root["p5"])})(this,function(p5){p5.Gen=function(){this.version=.01;var that=this};p5.Gen.prototype.harmonics=function(_x,_args){var u=true;if(!Array.isArray(_x)&&_x.constructor!==Float32Array&&_x.constructor!==Float64Array){_x=[_x];u=false}if(!Array.isArray(_args))_args=[_args];var _sum;if(Array.isArray(_x))_sum=new Array(_x.length);else if(_x.constructor===Float32Array)_sum=new Float32Array(_x.length);else if(_x.constructor===Float64Array)_sum=new Float64Array(_x.length);for(var i in _x){var j=_args.length;_sum[i]=0;while(j--){if(_args[j]!=0){var _val=TWO_PI*_x[i]*(j+1);_sum[i]+=sin(_val)*_args[j]}}}return u?_sum:_sum[0]};p5.Gen.prototype.triples=function(_x,_args){var u=true;if(!Array.isArray(_x)&&_x.constructor!==Float32Array&&_x.constructor!==Float64Array){_x=[_x];u=false}if(_args.length<2){console.log("p5.Gen : we need at least 3 arguments!");return 0}else if(_args.length%3!=0){console.log("p5.Gen : incomplete <partial, amp, phase> triplet!")}var _sum;if(Array.isArray(_x))_sum=new Array(_x.length);else if(_x.constructor===Float32Array)_sum=new Float32Array(_x.length);else if(_x.constructor===Float64Array)_sum=new Float64Array(_x.length);for(i in _x){_sum[i]=0;for(var j=_args.length-1;j>0;j-=3){if(_args[j-1]!=0){var val;if(_args[j-2]==0)val=1;else{val=sin(TWO_PI*(_x[i]/(1/_args[j-2])+_args[j]/360))}_sum[i]+=val*_args[j-1]}}}return u?_sum:_sum[0]};p5.Gen.prototype.chebyshev=function(_x,_args){var u=true;if(!Array.isArray(_x)&&_x.constructor!==Float32Array&&_x.constructor!==Float64Array){_x=[_x];u=false}if(!Array.isArray(_args))_args=[_args];var _sum;if(Array.isArray(_x))_sum=new Array(_x.length);else if(_x.constructor===Float32Array)_sum=new Float32Array(_x.length);else if(_x.constructor===Float64Array)_sum=new Float64Array(_x.length);for(var i in _x){var v=_x[i]*2-1;_sum[i]=0;var Tn1=1;var Tn=v;for(var j=0;j<_args.length;j++){_sum[i]+=_args[j]*Tn;Tn2=Tn1;Tn1=Tn;Tn=2*v*Tn1-Tn2}}return u?_sum:_sum[0]};p5.Gen.prototype.bpf=function(_x,_args){var u=true;if(!Array.isArray(_x)&&_x.constructor!==Float32Array&&_x.constructor!==Float64Array){_x=[_x];u=false}if(_args.length%2!=0){console.log("p5.Gen : incomplete <time, value> pair!");return 0}var endtime=_args[_args.length-2];var starttime=_args[0];if(endtime-starttime<=0){console.log("p5.Gen : bpf times must be in ascending order!");return 0}var scaler=1/(endtime-starttime);var thistime=0;var nexttime=0;var thisval=0;var nextval=0;var _y;if(Array.isArray(_x))_y=new Array(_x.length);else if(_x.constructor===Float32Array)_y=new Float32Array(_x.length);else if(_x.constructor===Float64Array)_y=new Float64Array(_x.length);for(i in _x){for(var k=1;k<_args.length;k+=2){thistime=_args[k-1]*scaler;thisval=_args[k];if(k<_args.length-1){nexttime=_args[k+1]*scaler;nextval=_args[k+2]}else{nexttime=thistime;nextval=thisval}if(nexttime-thistime<0){console.log("p5.Gen : bpf times music be in ascending order!");return 0}if(_x[i]>=thistime&&_x[i]<=nexttime){var _thisval=_args[k+1];_y[i]=map(_x[i],thistime,nexttime,thisval,nextval);break}}}return u?_y:_y[0]};p5.Gen.prototype.random=function(_x,_type){var u=true;var _s=0;if(!_x){_type="linear";_x=[millis()];u=false}else if(typeof _x!="string"){if(!Array.isArray(arguments[0])&&arguments[0].constructor!==Float32Array&&arguments[0].constructor!==Float64Array){_x=[_x];u=false}}else{_type=_x;_x=[millis()];u=false}var _v;if(Array.isArray(_x))_v=new Array(_x.length);else if(_x.constructor===Float32Array)_v=new Float32Array(_x.length);else if(_x.constructor===Float64Array)_v=new Float64Array(_x.length);if(_x[0]===-1)randomSeed(millis()*1e5);for(var i in _x){if(_x[i]!=-1)randomSeed(_x[i]*1e5);switch(_type){case"linear":case"even":_v[i]=random();break;case"low":_v[i]=min(random(),random());break;case"high":_v[i]=max(random(),random());break;case"triangle":_v[i]=(random()+random())/2;break;case"gaussian":var n=12;var sigma=.166666;var randnum=0;for(var j=0;j<n;j++){randnum+=random()}_v[i]=sigma*(randnum-n/2)+.5;break;case"cauchy":var alpha=.00628338;do{do{_v[i]=random()}while(_v[i]==.5);_v[i]=alpha*tan(_v[i]*PI)+.5}while(_v[i]<0||_v[i]>1);break;default:_v[i]=random();break}}return u?_v:_v[0]};p5.Gen.prototype.window=function(_x,_type,_args){var u=true;if(!Array.isArray(_args))_args=[_args];if(!Array.isArray(_x)&&_x.constructor!==Float32Array&&_x.constructor!==Float64Array){_x=[_x];u=false}var _y;if(Array.isArray(_x))_y=new Array(_x.length);else if(_x.constructor===Float32Array)_y=new Float32Array(_x.length);else if(_x.constructor===Float64Array)_y=new Float64Array(_x.length);var i;switch(_type){case 1:case"hamming":var alpha=.54;var beta=.46;for(i in _x)_y[i]=alpha-beta*cos(TWO_PI*_x[i]);break;case 2:case"hanning":case"vonhann":case"hann":case"hannsolo":case"hanningvonhannmeister":for(i in _x)_y[i]=.5*(1-cos(TWO_PI*_x[i]));break;case 3:case"bartlett":case"fejer":case"fej√©r":case"triangle":for(i in _x)_y[i]=1-abs((_x[i]-.5)/.5);break;case"bartlett-hann":var a0=.62;var a1=.48;var a2=.38;for(i in _x)_y[i]=a0-a1*abs(_x[i]-.5)-a2*cos(2*PI*_x[i]);break;case 4:case"blackman":var a0=7938/18608;var a1=9240/18608;var a2=1430/18608;for(i in _x)_y[i]=a0-a1*cos(2*PI*_x[i])+a2*cos(4*PI*_x[i]);break;case"generalizedblackman":if(!_args[0])_args[0]=.5;var _a=_args[0];var a0=(1-_a)/2;var a1=.5;var a2=_a/2;for(i in _x){var pix=PI*_x[i];_y[i]=a0-a1*cos(2*pix)+a2*cos(4*pix)}break;case 5:case"blackman-harris":var a0=.35875;var a1=.48829;var a2=.14128;var a3=.01168;for(i in _x)_y[i]=a0-a1*cos(2*PI*_x[i])+a2*cos(4*PI*_x[i])+a3*cos(6*PI*_x[i]);break;case"blackman-nuttal":var a0=.3635819;var a1=.4891775;var a2=.1365995;var a3=.0106411;for(i in _x)_y[i]=a0-a1*cos(2*PI*_x[i])+a2*cos(4*PI*_x[i])+a3*cos(6*PI*_x[i]);break;case"nuttal":var a0=.355768;var a1=.487396;var a2=.144232;var a3=.012604;for(i in _x)_y[i]=a0-a1*cos(2*PI*_x[i])+a2*cos(4*PI*_x[i])+a3*cos(6*PI*_x[i]);break;case 6:case"gaussian":if(!_args[0])_args[0]=.4;var sigma=_args[0];for(i in _x)_y[i]=exp(-.5*((_x[i]-.5)/(sigma*.5))*((_x[i]-.5)/(sigma*.5)));break;case 7:case"kaiser":var alpha=3;for(i in _x){var above=PI*alpha*sqrt(1-(2*_x[i]-1)*(2*_x[i]-1));var below=PI*alpha;_y[i]=besselI0(above)/besselI0(below)}break;case 8:case"rectangle":case"boxcar":case"dirichlet":for(i in _x)_y[i]=1;break;case"cosine":for(i in _x)_y[i]=sin(PI*_x[i]);break;case 9:case"sinc":case"sync":case"lanczos":for(i in _x)_y[i]=sinc(2*_x[i]-1);break;case"flattop":var a0=1;var a1=1.93;var a2=1.29;var a3=.388;var a4=.032;for(i in _x){_y[i]=a0-a1*cos(2*PI*_x[i])+a2*cos(4*PI*_x[i])-a3*cos(6*PI*_x[i])+a4*cos(8*PI*_x[i]);_y[i]/=a0+a1+a2+a3+a4}break;case"tukey":if(!_args[0])_args[0]=.5;var _a=_args[0];var ah=_a/2;var omah=1-ah;for(i in _x){_y[i]=1;if(_x[i]<=ah){_y[i]=.5*(1+cos(PI*(2*_x[i]/_a-1)))}else if(_x[i]>omah){_y[i]=.5*(1+cos(PI*(2*_x[i]/_a-2/_a+1)))}}break;case"slidinggaussian":if(!_args[0])_args[0]=.5;if(!_args[1])_args[1]=.4;var dx=2*(_args[0]-.5);var sigma=_args[1]*2;for(var i in _x)_y[i]=exp(0-sq(_x[i]*2-1-dx)/(2*sigma*sigma));break;case"adjustablecosine":if(!_args[0])_args[0]=.5;var _a=_args[0];var ah=_a/2;var omah=1-ah;for(i in _x){_y[i]=1;if(_x[i]<=_a){_y[i]=.5*(1+cos(PI*(_x[i]/_a-1)))}else{_y[i]=.5*(1+cos(PI*((_x[i]-_a)/(1-_a))))}}break;case"elliptic":if(!_args[0])_args[0]=.5;var _a=_args[0];var min_param_a=0+Number.EPSILON;var max_param_a=1-Number.EPSILON;_a=constrain(_a,min_param_a,max_param_a);for(i in _x){_y[i]=0;if(_x[i]<=_a){_y[i]=1/_a*sqrt(sq(_a)-sq(_x[i]-_a))}else{_y[i]=1/(1-_a)*sqrt(sq(1-_a)-sq(_x[i]-_a))}}break;case"hyperelliptic":if(!_args[0])_args[0]=.5;if(!_args[1])_args[1]=3;var _a=_args[0];var _n=_args[1];var min_param_a=0+Number.EPSILON;var max_param_a=1-Number.EPSILON;_a=constrain(_a,min_param_a,max_param_a);for(i in _x){_y[i]=0;var pwn=_n*2;if(_x[i]<=_a){_y[i]=1/_a*pow(pow(_a,pwn)-pow(_x[i]-_a,pwn),1/pwn)}else{_y[i]=1/(1-_a)*pow(pow(1-_a,pwn)-pow(_x[i]-_a,pwn),1/pwn)}}break;case"squircular":if(!_args[0])_args[0]=.5;if(!_args[1])_args[1]=3;var _a=_args[0];var _n=_args[1];var min_param_a=0+Number.EPSILON;var max_param_a=1-Number.EPSILON;_a=constrain(_a,min_param_a,max_param_a);for(i in _x){_y[i]=0;var pwn=max(2,_n*2);if(_x[i]<=_a){_y[i]=1-_a+pow(pow(_a,pwn)-pow(_x[i]-_a,pwn),1/pwn)}else{_y[i]=_a+pow(pow(1-_a,pwn)-pow(_x[i]-_a,pwn),1/pwn)}}break;case"poisson":if(!_args[0])_args[0]=.5;var tau=max(_args[0],Number.EPSILON);for(var i in _x)_y[i]=exp(0-abs(_x[i]-.5)*(1/tau));break;case"hann-poisson":case"poisson-hann":case"hannpoisson":case"poissonhann":if(!_args[0])_args[0]=.5;var tau=25*max(_args[0]*_args[0]*_args[0]*_args[0],Number.EPSILON);for(i in _x){var hy=.5*(1-cos(TWO_PI*_x[i]));var py=exp(0-abs(_x[i]-.5)*(1/tau));_y[i]=hy*py}break;case"slidinghann-poisson":case"slidingpoisson-hann":case"slidinghannpoisson":case"slidingpoissonhann":if(!_args[0])_args[0]=.5;if(!_args[1])_args[1]=.5;var tau=25*max(_args[1]*_args[1]*_args[1]*_args[1],Number.EPSILON);for(i in _x){var newx=constrain(_x[i]+(.5-_args[0]),0,1);var hy=.5*(1-cos(TWO_PI*newx));var py=exp(0-abs(newx-.5)*(1/tau));_y[i]=hy*py}break;for(i in _x)_y[i]=_x[i];default:}return u?_y:_y[0]};p5.Gen.prototype.waveform=function(_x,_type){var u=true;if(!Array.isArray(_x)&&_x.constructor!==Float32Array&&_x.constructor!==Float64Array){_x=[_x];u=false}var _y;if(Array.isArray(_x))_y=new Array(_x.length);else if(_x.constructor===Float32Array)_y=new Float32Array(_x.length);else if(_x.constructor===Float64Array)_y=new Float64Array(_x.length);var i;switch(_type){case"sine":case"sin":_y=this.harmonics(_x,[1]);break;case"cosine":case"cos":_y=this.triples(_x,[1,1,90]);break;case"saw":case"sawtooth":case"sawup":_y=this.bpf(_x,[0,-1,1,1]);break;case"sawdown":_y=this.bpf(_x,[0,1,1,-1]);break;case"phasor":_y=this.bpf(_x,[0,0,1,1]);break;case"square":_y=this.bpf(_x,[0,1,1,1,1,-1,2,-1]);break;case"rect":case"rectangle":_y=this.bpf(_x,[0,1,1,1,1,-1,10,-1]);break;case"pulse":_y=this.bpf(_x,[0,1,1,1,1,-1,100,-1]);break;case"tri":case"triangle":_y=this.bpf(_x,[0,0,1,1,2,0,3,-1,4,0]);break;case"buzz":_y=this.harmonics(_x,[.1,.1,.1,.1,.1,.1,.1,.1,.1,.1]);break;default:}return u?_y:_y[0]};p5.Gen.prototype.listAlgos=function(){var _styles=new Array;for(var i in this.__proto__){var _t=true;if(i=="listAlgos")_t=false;else if(i=="fillArray")_t=false;else if(i=="fillFloat32Array")_t=false;else if(i=="fillFloat64Array")_t=false;if(_t)_styles.push(i)}return _styles};p5.Gen.prototype.fillArray=function(_algo,_len,_args,_seed){var _p=new Array(_len);var _dest=new Array(_len);if(_algo==="random"){for(var i=0;i<_len;i++){if(_seed)_p[i]=i/(_len-1)*1e4+_seed;else _p[i]="-1"}}else{for(var i=0;i<_len;i++){_p[i]=i/(_len-1)}}_dest=this[_algo](_p,_args,_seed);return _dest};p5.Gen.prototype.fillFloat32Array=function(_algo,_len,_args,_seed){var _p=new Float32Array(_len);var _dest=new Float32Array(_len);if(_algo==="random"){for(var i=0;i<_len;i++){if(_seed)_p[i]=i/(_len-1)*1e4+_seed;else _p[i]="-1"}}else{for(var i=0;i<_len;i++){_p[i]=i/(_len-1)}}_dest=this[_algo](_p,_args,_seed);return _dest};p5.Gen.prototype.fillFloat64Array=function(_algo,_len,_args,_seed){var _p=new Float64Array(_len);var _dest=new Float64Array(_len);if(_algo==="random"){for(var i=0;i<_len;i++){if(_seed)_p[i]=i/(_len-1)*1e4+_seed;else _p[i]="-1"}}else{for(var i=0;i<_len;i++){_p[i]=i/(_len-1)}}_dest=this[_algo](_p,_args,_seed);return _dest};p5.Ease=function(){this.version=.01;var that=this};p5.Ease.prototype.linear=function(_x){return _x};p5.Ease.prototype.quadraticIn=function(_x){return _x*_x};p5.Ease.prototype.quadraticOut=function(_x){return-(_x*(_x-2))};p5.Ease.prototype.quadraticInOut=function(_x){if(_x<.5){return 2*_x*_x}else{return-2*_x*_x+4*_x-1}};p5.Ease.prototype.cubicIn=function(_x){return _x*_x*_x};p5.Ease.prototype.cubicOut=function(_x){var _v=_x-1;return _v*_v*_v+1};p5.Ease.prototype.cubicInOut=function(_x){if(_x<.5){return 4*_x*_x*_x}else{var _v=2*_x-2;return.5*_v*_v*_v+1}};p5.Ease.prototype.quarticIn=function(_x){return _x*_x*_x*_x};p5.Ease.prototype.quarticOut=function(_x){var _v=_x-1;return _v*_v*_v*(1-_x)+1};p5.Ease.prototype.quarticInOut=function(_x){if(_x<.5){return 8*_x*_x*_x*_x}else{var _v=_x-1;return-8*_v*_v*_v*_v+1}};p5.Ease.prototype.quinticIn=function(_x){return _x*_x*_x*_x*_x};p5.Ease.prototype.quinticOut=function(_x){var _v=_x-1;return _v*_v*_v*_v*_v+1};p5.Ease.prototype.quinticInOut=function(_x){if(_x<.5){return 16*_x*_x*_x*_x*_x}else{var _v=2*_x-2;return.5*_v*_v*_v*_v*_v+1}};p5.Ease.prototype.sineIn=function(_x){return sin((_x-1)*HALF_PI)+1};p5.Ease.prototype.sineOut=function(_x){return sin(_x*HALF_PI)};p5.Ease.prototype.sineInOut=function(_x){return.5*(1-cos(_x*PI))};p5.Ease.prototype.circularIn=function(_x){return 1-sqrt(1-_x*_x)};p5.Ease.prototype.circularOut=function(_x){return sqrt((2-_x)*_x)};p5.Ease.prototype.circularInOut=function(_x){if(_x<.5){return.5*(1-sqrt(1-4*(_x*_x)))}else{return.5*(sqrt(-(2*_x-3)*(2*_x-1))+1)}};p5.Ease.prototype.exponentialIn=function(_x){return _x==0?_x:pow(2,10*(_x-1))};p5.Ease.prototype.exponentialOut=function(_x){return _x==1?_x:1-pow(2,-10*_x)};p5.Ease.prototype.exponentialInOut=function(_x){if(_x==0||_x==1)return _x;if(_x<.5){return.5*pow(2,20*_x-10)}else{return-.5*pow(2,-20*_x+10)+1}};p5.Ease.prototype.elasticIn=function(_x){return sin(13*HALF_PI*_x)*pow(2,10*(_x-1))};p5.Ease.prototype.elasticOut=function(_x){return sin(-13*HALF_PI*(_x+1))*pow(2,-10*_x)+1};p5.Ease.prototype.elasticInOut=function(_x){if(_x<.5){return.5*sin(13*HALF_PI*(2*_x))*pow(2,10*(2*_x-1))}else{return.5*(sin(-13*HALF_PI*(2*_x-1+1))*pow(2,-10*(2*_x-1))+2)}};p5.Ease.prototype.backIn=function(_x){return _x*_x*_x-_x*sin(_x*PI)};p5.Ease.prototype.backOut=function(_x){var f=1-_x;return 1-(f*f*f-f*sin(f*PI))};p5.Ease.prototype.backInOut=function(_x){if(_x<.5){var f=2*_x;return.5*(f*f*f-f*sin(f*PI))}else{var f=1-(2*_x-1);return.5*(1-(f*f*f-f*sin(f*PI)))+.5}};p5.Ease.prototype.bounceIn=function(_x){return 1-this.bounceOut(1-_x)};p5.Ease.prototype.bounceOut=function(_x){if(_x<4/11){return 121*_x*_x/16}else if(_x<8/11){return 363/40*_x*_x-99/10*_x+17/5}else if(_x<9/10){return 4356/361*_x*_x-35442/1805*_x+16061/1805}else{return 54/5*_x*_x-513/25*_x+268/25}};p5.Ease.prototype.bounceInOut=function(_x){if(_x<.5){return.5*this.bounceIn(_x*2)}else{return.5*this.bounceOut(_x*2-1)+.5}};p5.Ease.prototype.brycesCubic=function(_x,_n){if(!_n)_n=3;var p=pow(_x,_n-1);var xn=p*_x;return _n*p-(_n-1)*xn};p5.Ease.prototype.staircase=function(_x,_n){if(!_n)_n=3;var _y=floor(_x*_n)/(_n-1);if(_x>=1)_y=1;return _y};p5.Ease.prototype.exponentialSmoothedStaircase=function(_x,_a,_n){if(!_a)_a=.25;if(!_n)_n=3;var fa=sq(map(_a,0,1,5,30));var _y=0;for(var i=0;i<_n;i++){_y+=1/(_n-1)/(1+exp(fa*((i+1)/_n-_x)))}_y=constrain(_y,0,1);return _y};p5.Ease.prototype.gompertz=function(_x,_a){if(!_a)_a=.25;var min_param_a=0+Number.EPSILON;_a=max(_a,min_param_a);var b=-8;var c=0-_a*16;var _y=exp(b*exp(c*_x));var maxVal=exp(b*exp(c));var minVal=exp(b);_y=map(_y,minVal,maxVal,0,1);return _y};p5.Ease.prototype.generalizedLinearMap=function(_x,_a,_b,_c,_d){if(!_a)_a=0;if(!_b)_b=0;if(!_c)_c=1;if(!_d)_d=1;var _y=0;if(_a<_c){if(_x<=_a){_y=_b}else if(_x>=_c){_y=_d}else{_y=map(_x,_a,_c,_b,_d)}}else{if(_x<=_c){_y=_d}else if(_x>=_a){_y=_b}else{_y=map(_x,_c,_a,_d,_b)}}return _y};p5.Ease.prototype.doubleOddPolynomialOgee=function(_x,_a,_b,_n){if(!_a)_a=.25;if(!_b)_b=.75;if(!_n)_n=3;var min_param_a=0+Number.EPSILON;var max_param_a=1-Number.EPSILON;var min_param_b=0;var max_param_b=1;_a=constrain(_a,min_param_a,max_param_a);_b=constrain(_b,min_param_b,max_param_b);var p=2*_n+1;var _y=0;if(_x<=_a){_y=_b-_b*pow(1-_x/_a,p)}else{_y=_b+(1-_b)*pow((_x-_a)/(1-_a),p)}return _y};p5.Ease.prototype.doubleLinear=function(_x,_a,_b){if(!_a)_a=.25;if(!_b)_b=.75;var _y=0;var min_param_a=0+Number.EPSILON;var max_param_a=1-Number.EPSILON;var min_param_b=0;var max_param_b=1;_a=constrain(_a,min_param_a,max_param_a);_b=constrain(_b,min_param_b,max_param_b);if(_x<=_a){_y=_b/_a*_x}else{_y=_b+(1-_b)/(1-_a)*(_x-_a)}return _y};p5.Ease.prototype.tripleLinear=function(_x,_a,_b,_c,_d){if(!_a)_a=.25;if(!_b)_b=.75;if(!_c)_c=.75;if(!_d)_d=.25;var _y=0;if(_a<_c){if(_x<=_a){_y=map(_x,0,_a,0,_b)}else if(_x>=_c){_y=map(_x,_c,1,_d,1)}else{_y=map(_x,_a,_c,_b,_d)}}else{if(_x<=_c){_y=map(_x,0,_c,0,_d)}else if(_x>=_a){_y=map(_x,_a,1,_b,1)}else{_y=map(_x,_c,_a,_d,_b)}}return _y};p5.Ease.prototype.variableStaircase=function(_x,_a,_n){if(!_a)_a=.25;if(!_n)_n=3;var aa=_a-.5;if(aa==0){return _x}var x0=floor(_x*_n)/_n;var x1=ceil(_x*_n)/_n;var y0=x0;var y1=x1;var px=.5*(x0+x1)+aa/_n;var py=.5*(x0+x1)-aa/_n;var _y=0;if(_x<px&&_x>x0){_y=map(_x,x0,px,y0,py)}else{_y=map(_x,px,x1,py,y1)}return _y};p5.Ease.prototype.quadraticBezierStaircase=function(_x,_a,_n){if(!_a)_a=.25;if(!_n)_n=3;var aa=_a-.5;if(aa==0){return _x}var x0=floor(_x*_n)/_n;var x1=ceil(_x*_n)/_n;var y0=x0;var y1=x1;var px=.5*(x0+x1)+aa/_n;var py=.5*(x0+x1)-aa/_n;var p0x=(x0+px)/2;var p0y=(y0+py)/2;var p1x=(x1+px)/2;var p1y=(y1+py)/2;var _y=0;var denom=1/_n*.5;if(_x<=p0x&&_x>=x0){if(floor(_x*_n)<=0){_y=map(_x,x0,px,y0,py)}else{if(abs(_x-x0)<Number.EPSILON){}var za=(x0-(p1x-1/_n))/denom;var zb=(y0-(p1y-1/_n))/denom;var zx=(_x-(p1x-1/_n))/denom;var om2a=1-2*za;var interior=max(0,za*za+om2a*zx);var t=(sqrt(interior)-za)/om2a;var zy=(1-2*zb)*(t*t)+2*zb*t;zy*=p1y-p0y;zy+=p1y;if(_x>x0){zy-=1/_n}_y=zy}}else if(_x>=p1x&&_x<=x1){if(ceil(_x*_n)>=_n){_y=map(_x,px,x1,py,y1)}else{if(abs(_x-x1)<Number.EPSILON){}var za=(x1-p1x)/denom;var zb=(y1-p1y)/denom;var zx=(_x-p1x)/denom;if(za==.5){za+=Number.EPSILON}var om2a=1-2*za;if(abs(om2a)<Number.EPSILON){om2a=(om2a<0?-1:1)*Number.EPSILON}var interior=max(0,za*za+om2a*zx);var t=(sqrt(interior)-za)/om2a;var zy=(1-2*zb)*(t*t)+2*zb*t;zy*=p1y-p0y;zy+=p1y;_y=zy}}else{var za=(px-p0x)/denom;var zb=(py-p0y)/denom;var zx=(_x-p0x)/denom;if(za==.5){za+=Number.EPSILON}var om2a=1-2*za;var t=(sqrt(za*za+om2a*zx)-za)/om2a;var zy=(1-2*zb)*(t*t)+2*zb*t;zy*=p1y-p0y;zy+=p0y;_y=zy}return _y};p5.Ease.prototype.doubleExponentialSigmoid=function(_x,_a){if(!_a)_a=.75;var min_param_a=0+Number.EPSILON;var max_param_a=1-Number.EPSILON;_a=constrain(_a,min_param_a,max_param_a);_a=1-_a;var _y=0;if(_x<=.5){_y=pow(2*_x,1/_a)/2}else{_y=1-pow(2*(1-_x),1/_a)/2}return _y};p5.Ease.prototype.adjustableCenterDoubleExponentialSigmoid=function(_x,_a,_b){if(!_a)_a=.75;if(!_b)_b=.5;var min_param_a=0+Number.EPSILON;var max_param_a=1-Number.EPSILON;_a=constrain(_a,min_param_a,max_param_a);_a=1-_a;var _y=0;var w=max(0,min(1,_x-(_b-.5)));if(w<=.5){_y=pow(2*w,1/_a)/2}else{_y=1-pow(2*(1-w),1/_a)/2}return _y};p5.Ease.prototype.doubleQuadraticSigmoid=function(_x){var _y=0;if(_x<=.5){_y=sq(2*_x)/2}else{_y=1-sq(2*(_x-1))/2}return _y};p5.Ease.prototype.doublePolynomialSigmoid=function(_x,_n){if(!_n)_n=3;var _y=0;if(_n%2==0){if(_x<=.5){_y=pow(2*_x,_n)/2}else{_y=1-pow(2*(_x-1),_n)/2}}else{if(_x<=.5){_y=pow(2*_x,_n)/2}else{_y=1+pow(2*(_x-1),_n)/2}}return _y};p5.Ease.prototype.doubleEllipticOgee=function(_x,_a,_b){if(!_a)_a=.25;if(!_b)_b=.75;var min_param_a=0+Number.EPSILON;var max_param_a=1-Number.EPSILON;_a=constrain(_a,min_param_a,max_param_a);var _y=0;if(_x<=_a){_y=_b/_a*sqrt(sq(_a)-sq(_x-_a))}else{_y=1-(1-_b)/(1-_a)*sqrt(sq(1-_a)-sq(_x-_a))}return _y};p5.Ease.prototype.doubleCubicOgee=function(_x,_a,_b){if(!_a)_a=.25;if(!_b)_b=.75;var min_param_a=0+Number.EPSILON;var max_param_a=1-Number.EPSILON;var min_param_b=0;var max_param_b=1;_a=constrain(_a,min_param_a,max_param_a);_b=constrain(_b,min_param_b,max_param_b);var _y=0;if(_x<=_a){_y=_b-_b*pow(1-_x/_a,3)}else{_y=_b+(1-_b)*pow((_x-_a)/(1-_a),3)}return _y};p5.Ease.prototype.doubleCircularSigmoid=function(_x,_a){if(!_a)_a=.25;var _y=0;if(_x<=_a){_y=_a-sqrt(_a*_a-_x*_x)}else{_y=_a+sqrt(sq(1-_a)-sq(_x-1))}return _y};p5.Ease.prototype.doubleSquircularSigmoid=function(_x,_a,_n){if(!_a)_a=.25;if(!_n)_n=3;var pwn=max(2,_n*2);var _y=0;if(_x<=_a){_y=_a-pow(pow(_a,pwn)-pow(_x,pwn),1/pwn)}else{_y=_a+pow(pow(1-_a,pwn)-pow(_x-1,pwn),1/pwn)}return _y};p5.Ease.prototype.doubleQuadraticBezier=function(_x,_a,_b,_c,_d){if(!_a)_a=.25;if(!_b)_b=.75;if(!_c)_c=.75;if(!_d)_d=.25;var xmid=(_a+_c)/2;var ymid=(_b+_d)/2;xmid=constrain(xmid,Number.EPSILON,1-Number.EPSILON);ymid=constrain(ymid,Number.EPSILON,1-Number.EPSILON);var _y=0;var om2a;var t;var xx;var aa;var bb;if(_x<=xmid){xx=_x/xmid;aa=_a/xmid;bb=_b/ymid;om2a=1-2*aa;if(om2a==0){om2a=Number.EPSILON}t=(sqrt(aa*aa+om2a*xx)-aa)/om2a;_y=(1-2*bb)*(t*t)+2*bb*t;_y*=ymid}else{xx=(_x-xmid)/(1-xmid);aa=(_c-xmid)/(1-xmid);bb=(_d-ymid)/(1-ymid);om2a=1-2*aa;if(om2a==0){om2a=Number.EPSILON}t=(sqrt(aa*aa+om2a*xx)-aa)/om2a;_y=(1-2*bb)*(t*t)+2*bb*t;_y*=1-ymid;_y+=ymid}return _y};p5.Ease.prototype.doubleEllipticSigmoid=function(_x,_a,_b){if(!_a)_a=.25;if(!_b)_b=.75;var _y=0;if(_x<=_a){if(_a<=0){_y=0}else{_y=_b*(1-sqrt(sq(_a)-sq(_x))/_a)}}else{if(_a>=1){_y=1}else{_y=_b+(1-_b)/(1-_a)*sqrt(sq(1-_a)-sq(_x-1))}}return _y};p5.Ease.prototype.doubleCubicOgeeSimplified=function(_x,_a,_b){if(!_a)_a=.25;if(!_b)_b=.75;_b=1-_b;var _y=0;if(_x<=_a){if(_a<=0){_y=0}else{var val=1-_x/_a;_y=_b*_x+(1-_b)*_a*(1-val*val*val)}}else{if(_a>=1){_y=1}else{var val=(_x-_a)/(1-_a);_y=_b*_x+(1-_b)*(_a+(1-_a)*val*val*val)}}return _y};p5.Ease.prototype.raisedInvertedCosine=function(_x){var _y=(1-cos(PI*_x))/2;return _y};p5.Ease.prototype.cosineApproximation=function(_x){var x2=_x*_x;var x4=x2*x2;var x6=x4*x2;var fa=4/9;var fb=17/9;var fc=22/9;var _y=fa*x6-fb*x4+fc*x2;return _y};p5.Ease.prototype.smoothStep=function(_x){return _x*_x*(3-2*_x)};p5.Ease.prototype.smootherStep=function(_x){return _x*_x*_x*(_x*(_x*6-15)+10)};p5.Ease.prototype.maclaurinCosine=function(_x){var nTerms=6;_x*=PI;var xp=1;var x2=_x*_x;var sig=1;var fact=1;var _y=xp;for(var i=0;i<nTerms;i++){xp*=x2;sig=0-sig;fact*=i*2+1;fact*=i*2+2;_y+=sig*(xp/fact)}_y=(1-_y)/2;return _y};p5.Ease.prototype.catmullRomInterpolate=function(_x,_a,_b){if(!_a)_a=.25;if(!_b)_b=.75;var y0=_a;var y3=_b;var x2=_x*_x;var a0=-.5*y0+.5*y3-1.5;var a1=y0-.5*y3+2;var a2=-.5*y0+.5;var _y=a0*_x*x2+a1*x2+a2*_x;return constrain(_y,0,1)};p5.Ease.prototype.hermite=function(_x,_a,_b,_c,_d){if(!_a)_a=.25;if(!_b)_b=0;if(!_c)_c=1;if(!_d)_d=.25;_a=map(_a,0,1,-1,1);_c=map(_c,0,1,-1,1);var hC=(_c-_a)*.5;var hV=_b-_c;var hW=hC+hV;var hA=hW+hV+(_d-_b)*.5;var hB=hW+hA;var _y=((hA*_x-hB)*_x+hC)*_x+_b;return _y};p5.Ease.prototype.hermite2=function(_x,_a,_b,_c,_d){if(!_a)_a=.25;if(!_b)_b=.75;if(!_c)_c=.75;if(!_d)_d=.25;var tension=map(_c,0,1,-1,1);var bias=map(_d,0,1,-1,1);var y0=2*(_a-.5);var y1=0;var y2=1;var y3=_b;var x2=_x*_x;var x3=x2*_x;var m0,m1;m0=(y1-y0)*(1+bias)*(1-tension)/2;m0+=(y2-y1)*(1-bias)*(1-tension)/2;m1=(y2-y1)*(1+bias)*(1-tension)/2;m1+=(y3-y2)*(1-bias)*(1-tension)/2;var a0=2*x3-3*x2+1;var a1=x3-2*x2+_x;var a2=x3-x2;var a3=-2*x3+3*x2;var _y=a0*y1+a1*m0+a2*m1+a3*y2;return _y};p5.Ease.prototype.normalizedErf=function(_x){var erfBound=2;var erfBoundNorm=.99532226501;var z=map(_x,0,1,0-erfBound,erfBound);var z2=z*z;var a=8*(PI-3)/(3*PI*(4-PI));var _y=sqrt(1-exp(0-z2*((a*z2+4/PI)/(a*z2+1))));if(z<0)_y=0-_y;_y/=erfBoundNorm;_y=(_y+1)/2;return _y};p5.Ease.prototype.normalizedInverseErf=function(_x){var erfBound=2;var erfBoundNorm=.99532226501;var z=map(_x,0,1,-erfBoundNorm,erfBoundNorm);var z2=z*z;var a=8*(PI-3)/(3*PI*(4-PI));var A=2/(PI*a)+log(1-z2)/2;var B=log(1-z2)/a;var _y=sqrt(sqrt(A*A-B)-A);if(z<0)_y=0-_y;_y/=erfBound;_y=_y+1;_y/=2;_y=constrain(_y,0,1);return _y};p5.Ease.prototype.exponentialEmphasis=function(_x,_a){if(!_a)_a=.25;var min_param_a=0+Number.EPSILON;var max_param_a=1-Number.EPSILON;_a=constrain(_a,min_param_a,max_param_a);if(_a<.5){_a=2*_a;var _y=pow(_x,_a);return _y}else{_a=2*(_a-.5);var _y=pow(_x,1/(1-_a));return _y}};p5.Ease.prototype.iterativeSquareRoot=function(_x){var _y=.5;var n=6;for(var i=0;i<n;i++){_y=(_y+_x/_y)/2}return _y};p5.Ease.prototype.fastSquareRoot=function(_x){var xhalf=.5*_x;var i=f2ib(_x);i=1597463007-(i>>1);_x=ib2f(i);_x=_x*(1.5-xhalf*_x*_x);return 1/_x};p5.Ease.prototype.doubleExponentialOgee=function(_x,_a){if(!_a)_a=.25;var min_param_a=0+Number.EPSILON;var max_param_a=1-Number.EPSILON;_a=constrain(_a,min_param_a,max_param_a);var _y=0;if(_x<=.5){_y=pow(2*_x,1-_a)/2}else{_y=1-pow(2*(1-_x),1-_a)/2}return _y};p5.Ease.prototype.circularFillet=function(_x,_a,_b,_c){if(!_a)_a=.25;if(!_b)_b=.75;if(!_c)_c=.75;var arcStartAngle=0;var arcEndAngle=0;var arcStartX=0;var arcStartY=0;var arcEndX=0;var arcEndY=0;var arcCenterX=0;var arcCenterY=0;var arcRadius=0;var min_param_a=0+Number.EPSILON;var max_param_a=1-Number.EPSILON;var min_param_b=0+Number.EPSILON;var max_param_b=1-Number.EPSILON;_a=constrain(_a,min_param_a,max_param_a);_b=constrain(_b,min_param_b,max_param_b);var R=_c;function linetopoint(a,b,c,ptx,pty){var lp=0;var d=sqrt(a*a+b*b);if(d!=0){lp=(a*ptx+b*pty+c)/d}return lp}computefillet:{var p1x=0;var p1y=0;var p2x=_a;var p2y=_b;var p3x=_a;var p3y=_b;var p4x=1;var p4y=1;var r=R;var c1=p2x*p1y-p1x*p2y;var a1=p2y-p1y;var b1=p1x-p2x;var c2=p4x*p3y-p3x*p4y;var a2=p4y-p3y;var b2=p3x-p4x;if(a1*b2==a2*b1){break computefillet}var d1,d2;var mPx,mPy;mPx=(p3x+p4x)/2;mPy=(p3y+p4y)/2;d1=linetopoint(a1,b1,c1,mPx,mPy);if(d1==0){break computefillet}mPx=(p1x+p2x)/2;mPy=(p1y+p2y)/2;d2=linetopoint(a2,b2,c2,mPx,mPy);if(d2==0){break computefillet}var c1p,c2p,d;var rr=r;if(d1<=0){rr=-rr}c1p=c1-rr*sqrt(a1*a1+b1*b1);rr=r;if(d2<=0){rr=-rr}c2p=c2-rr*sqrt(a2*a2+b2*b2);d=a1*b2-a2*b1;var pCx=(c2p*b1-c1p*b2)/d;var pCy=(c1p*a2-c2p*a1)/d;var pAx=0;var pAy=0;var pBx=0;var pBy=0;var dP,cP;dP=a1*a1+b1*b1;if(dP!=0){cP=a1*pCy-b1*pCx;pAx=(-a1*c1-b1*cP)/dP;pAy=(a1*cP-b1*c1)/dP}dP=a2*a2+b2*b2;if(dP!=0){cP=a2*pCy-b2*pCx;pBx=(-a2*c2-b2*cP)/dP;pBy=(a2*cP-b2*c2)/dP}var gv1x=pAx-pCx;var gv1y=pAy-pCy;var gv2x=pBx-pCx;var gv2y=pBy-pCy;var arcStart=atan2(gv1y,gv1x);var arcAngle=0;var dd=sqrt((gv1x*gv1x+gv1y*gv1y)*(gv2x*gv2x+gv2y*gv2y));if(dd!=0){arcAngle=acos((gv1x*gv2x+gv1y*gv2y)/dd)}var crossProduct=gv1x*gv2y-gv2x*gv1y;if(crossProduct<0){arcStart-=arcAngle}var arc1=arcStart;var arc2=arcStart+arcAngle;if(crossProduct<0){arc1=arcStart+arcAngle;arc2=arcStart}arcCenterX=pCx;arcCenterY=pCy;arcStartAngle=arc1;arcEndAngle=arc2;arcRadius=r;arcStartX=arcCenterX+arcRadius*cos(arcStartAngle);arcStartY=arcCenterY+arcRadius*sin(arcStartAngle);arcEndX=arcCenterX+arcRadius*cos(arcEndAngle);arcEndY=arcCenterY+arcRadius*sin(arcEndAngle)}var t=0;var y=0;_x=constrain(_x,0,1);if(_x<=arcStartX){if(arcStartX<Math.EPSILON){_y=0}else{t=_x/arcStartX;_y=t*arcStartY}}else if(_x>=arcEndX){t=(_x-arcEndX)/(1-arcEndX);_y=arcEndY+t*(1-arcEndY)}else{if(_x>=arcCenterX){_y=arcCenterY-sqrt(sq(arcRadius)-sq(_x-arcCenterX))}else{_y=arcCenterY+sqrt(sq(arcRadius)-sq(_x-arcCenterX))}}return _y};p5.Ease.prototype.circularArcThroughAPoint=function(_x,_a,_b){if(!_a)_a=.25;if(!_b)_b=.75;var m={};m.centerX=0;m.centerY=0;m.dRadius=0;var min_param_a=0+Number.EPSILON;var max_param_a=1-Number.EPSILON;var min_param_b=0+Number.EPSILON;var max_param_b=1-Number.EPSILON;_a=constrain(_a,min_param_a,max_param_a);_b=constrain(_b,min_param_b,max_param_b);_x=constrain(_x,0+Number.EPSILON,1-Number.EPSILON);var pt1x=0;var pt1y=0;var pt2x=_a;var pt2y=_b;var pt3x=1;var pt3y=1;function isPerpendicular(pt1x,pt1y,pt2x,pt2y,pt3x,pt3y){var yDelta_a=pt2y-pt1y;var xDelta_a=pt2x-pt1x;var yDelta_b=pt3y-pt2y;var xDelta_b=pt3x-pt2x;if(abs(xDelta_a)<=Number.EPSILON&&abs(yDelta_b)<=Number.EPSILON){return false}if(abs(yDelta_a)<=Number.EPSILON){return true}else if(abs(yDelta_b)<=Number.EPSILON){return true}else if(abs(xDelta_a)<=Number.EPSILON){return true}else if(abs(xDelta_b)<=Number.EPSILON){return true}else return false}function calcCircleFrom3Points(pt1x,pt1y,pt2x,pt2y,pt3x,pt3y,m){var yDelta_a=pt2y-pt1y;var xDelta_a=pt2x-pt1x;var yDelta_b=pt3y-pt2y;var xDelta_b=pt3x-pt2x;if(abs(xDelta_a)<=Number.EPSILON&&abs(yDelta_b)<=Number.EPSILON){m.centerX=.5*(pt2x+pt3x);m.centerY=.5*(pt1y+pt2y);m.dRadius=sqrt(sq(m.centerX-pt1x)+sq(m.centerY-pt1y));return}var aSlope=yDelta_a/xDelta_a;var bSlope=yDelta_b/xDelta_b;if(abs(aSlope-bSlope)<=Number.EPSILON){return}m.centerX=(aSlope*bSlope*(pt1y-pt3y)+bSlope*(pt1x+pt2x)-aSlope*(pt2x+pt3x))/(2*(bSlope-aSlope));m.centerY=-1*(m.centerX-(pt1x+pt2x)/2)/aSlope+(pt1y+pt2y)/2;m.dRadius=sqrt(sq(m.centerX-pt1x)+sq(m.centerY-pt1y))}if(!isPerpendicular(pt1x,pt1y,pt2x,pt2y,pt3x,pt3y))calcCircleFrom3Points(pt1x,pt1y,pt2x,pt2y,pt3x,pt3y,m);else if(!isPerpendicular(pt1x,pt1y,pt3x,pt3y,pt2x,pt2y))calcCircleFrom3Points(pt1x,pt1y,pt3x,pt3y,pt2x,pt2y,m);else if(!isPerpendicular(pt2x,pt2y,pt1x,pt1y,pt3x,pt3y))calcCircleFrom3Points(pt2x,pt2y,pt1x,pt1y,pt3x,pt3y,m);else if(!isPerpendicular(pt2x,pt2y,pt3x,pt3y,pt1x,pt1y))calcCircleFrom3Points(pt2x,pt2y,pt3x,pt3y,pt1x,pt1y,m);else if(!isPerpendicular(pt3x,pt3y,pt2x,pt2y,pt1x,pt1y))calcCircleFrom3Points(pt3x,pt3y,pt2x,pt2y,pt1x,pt1y,m);else if(!isPerpendicular(pt3x,pt3y,pt1x,pt1y,pt2x,pt2y))calcCircleFrom3Points(pt3x,pt3y,pt1x,pt1y,pt2x,pt2y,m);else{return 0}if(m.centerX>0&&m.centerX<1){if(_a<m.centerX){m.centerX=1;m.centerY=0;m.dRadius=1}else{m.centerX=0;m.centerY=1;m.dRadius=1}}var _y=0;if(_x>=m.centerX){_y=m.centerY-sqrt(sq(m.dRadius)-sq(_x-m.centerX))}else{_y=m.centerY+sqrt(sq(m.dRadius)-sq(_x-m.centerX))}return _y};p5.Ease.prototype.quadraticBezier=function(_x,_a,_b){if(!_a)_a=.25;if(!_b)_b=.75;var min_param_a=0;var max_param_a=1;var min_param_b=0;var max_param_b=1;_a=constrain(_a,min_param_a,max_param_a);_b=constrain(_b,min_param_b,max_param_b);if(_a==.5){_a+=Number.EPSILON}var om2a=1-2*_a;var t=(sqrt(_a*_a+om2a*_x)-_a)/om2a;var _y=(1-2*_b)*(t*t)+2*_b*t;return _y};p5.Ease.prototype.cubicBezier=function(_x,_a,_b,_c,_d){if(!_a)_a=.25;if(!_b)_b=.75;if(!_c)_c=.75;if(!_d)_d=.25;var min_param_a=0+Number.EPSILON;var max_param_a=1-Number.EPSILON;var min_param_b=0;var max_param_b=1;var min_param_c=0+Number.EPSILON;var max_param_c=1-Number.EPSILON;var min_param_d=0;var max_param_d=1;_a=constrain(_a,min_param_a,max_param_a);_b=constrain(_b,min_param_b,max_param_b);_c=constrain(_c,min_param_c,max_param_c);_d=constrain(_d,min_param_d,max_param_d);var y0a=0;var x0a=0;var y1a=_b;var x1a=_a;var y2a=_d;var x2a=_c;var y3a=1;var x3a=1;var A=x3a-3*x2a+3*x1a-x0a;var B=3*x2a-6*x1a+3*x0a;var C=3*x1a-3*x0a;var D=x0a;var E=y3a-3*y2a+3*y1a-y0a;var F=3*y2a-6*y1a+3*y0a;var G=3*y1a-3*y0a;var H=y0a;var currentt=_x;var nRefinementIterations=5;for(var i=0;i<nRefinementIterations;i++){var currentx=A*(currentt*currentt*currentt)+B*(currentt*currentt)+C*currentt+D;var currentslope=1/(3*A*currentt*currentt+2*B*currentt+C);currentt-=(currentx-_x)*currentslope;currentt=constrain(currentt,0,1)}var _y=E*(currentt*currentt*currentt)+F*(currentt*currentt)+G*currentt+H;return _y};p5.Ease.prototype.parabolaThroughAPoint=function(_x,_a,_b){if(!_a)_a=.25;if(!_b)_b=.75;var min_param_a=0+Number.EPSILON;var max_param_a=1-Number.EPSILON;var min_param_b=0;var max_param_b=1;_a=constrain(_a,min_param_a,max_param_a);_b=constrain(_b,min_param_b,max_param_b);var A=(1-_b)/(1-_a)-_b/_a;var B=(A*(_a*_a)-_b)/_a;var _y=A*(_x*_x)-B*_x;_y=constrain(_y,0,1);return _y};p5.Ease.prototype.dampedSinusoid=function(_x,_a){if(!_a)_a=.25;var omega=100*_a;var lambda=-6.90775527;var phi=0;var e=2.718281828459045;var t=_x;var _y=pow(e,lambda*t)*cos(omega*t+phi);return _y};p5.Ease.prototype.dampedSinusoidReverse=function(_x,_a){if(!_a)_a=.25;var omega=100*_a;var lambda=-6.90775527;var phi=0;var e=2.718281828459045;var t=1-_x;var _y=pow(e,lambda*t)*cos(omega*t+phi);return _y};p5.Ease.prototype.cubicBezierThrough2Points=function(_x,_a,_b,_c,_d){if(!_a)_a=.25;if(!_b)_b=.75;if(!_c)_c=.75;if(!_d)_d=.25;var _y=0;var min_param_a=0+Number.EPSILON;var max_param_a=1-Number.EPSILON;var min_param_b=0+Number.EPSILON;var max_param_b=1-Number.EPSILON;_a=constrain(_a,min_param_a,max_param_a);_b=constrain(_b,min_param_b,max_param_b);var x0=0;var y0=0;var x4=_a;var y4=_b;var x5=_c;var y5=_d;var x3=1;var y3=1;var x1,y1,x2,y2;var t1=.3;var t2=.7;var B0t1=(1-t1)*(1-t1)*(1-t1);var B1t1=3*t1*(1-t1)*(1-t1);var B2t1=3*t1*t1*(1-t1);var B3t1=t1*t1*t1;var B0t2=(1-t2)*(1-t2)*(1-t2);var B1t2=3*t2*(1-t2)*(1-t2);var B2t2=3*t2*t2*(1-t2);var B3t2=t2*t2*t2;var ccx=x4-x0*B0t1-x3*B3t1;var ccy=y4-y0*B0t1-y3*B3t1;var ffx=x5-x0*B0t2-x3*B3t2;var ffy=y5-y0*B0t2-y3*B3t2;x2=(ccx-ffx*B1t1/B1t2)/(B2t1-B1t1*B2t2/B1t2);y2=(ccy-ffy*B1t1/B1t2)/(B2t1-B1t1*B2t2/B1t2);x1=(ccx-x2*B2t1)/B1t1;y1=(ccy-y2*B2t1)/B1t1;x1=constrain(x1,0+Number.EPSILON,1-Number.EPSILON);x2=constrain(x2,0+Number.EPSILON,1-Number.EPSILON);_y=this.cubicBezier(_x,x1,y1,x2,y2);_y=constrain(_y,0,1);return _y};p5.Ease.prototype.doubleCircularOgee=function(_x,_a){if(!_a)_a=.25;var min_param_a=0;var max_param_a=1;_a=constrain(_a,min_param_a,max_param_a);var _y=0;if(_x<=_a){_y=sqrt(sq(_a)-sq(_x-_a))}else{_y=1-sqrt(sq(1-_a)-sq(_x-_a))}return _y};p5.Ease.prototype.doubleSquircularOgee=function(_x,_a,_n){if(!_a)_a=.25;if(!_n)_n=3;var min_param_a=0;var max_param_a=1;_a=constrain(_a,min_param_a,max_param_a);var pown=2*_n;var _y=0;if(_x<=_a){_y=pow(pow(_a,pown)-pow(_x-_a,pown),1/pown)}else{_y=1-pow(pow(1-_a,pown)-pow(_x-_a,pown),1/pown)}return _y};p5.Ease.prototype.generalSigmoidLogitCombo=function(_x,_a,_b){if(!_a)_a=.25;if(!_b)_b=.75;var _y=0;if(_a<.5){var dy=_b-.5;_y=dy+this.normalizedLogit(_x,1-2*_a)}else{var dx=_b-.5;_y=this.normalizedLogitSigmoid(_x+dx,2*(_a-.5))}_y=constrain(_y,0,1);return _y};p5.Ease.prototype.normalizedLogitSigmoid=function(_x,_a){if(!_a)_a=.25;var min_param_a=0+Number.EPSILON;var max_param_a=1-Number.EPSILON;var emph=5;_a=constrain(_a,min_param_a,max_param_a);_a=1/(1-_a)-1;_a=emph*_a;var _y=1/(1+exp(0-(_x-.5)*_a));var miny=1/(1+exp(.5*_a));var maxy=1/(1+exp(-.5*_a));_y=map(_y,miny,maxy,0,1);return _y};p5.Ease.prototype.normalizedLogit=function(_x,_a){if(!_a)_a=.25;var min_param_a=0+Number.EPSILON;var max_param_a=1-Number.EPSILON;var emph=5;_a=constrain(_a,min_param_a,max_param_a);_a=1/(1-_a)-1;_a=emph*_a;var minx=1/(1+exp(.5*_a));var maxx=1/(1+exp(-.5*_a));_x=map(_x,0,1,minx,maxx);var _y=log(_x/(1-_x));_y*=1/_a;_y+=.5;_y=constrain(_y,0,1);return _y};p5.Ease.prototype.generalizedQuartic=function(_x,_a,_b){if(!_a)_a=.25;if(!_b)_b=.75;var min_param_a=0;var max_param_a=1;var min_param_b=0;var max_param_b=1;_a=constrain(_a,min_param_a,max_param_a);_b=constrain(_b,min_param_b,max_param_b);_a=1-_a;var _w=(1-2*_a)*(_x*_x)+2*_a*_x;var _y=(1-2*_b)*(_w*_w)+2*_b*_w;return _y};p5.Ease.prototype.boxcar=function(_x){return _x>=.5};p5.Ease.prototype.listAlgos=function(){var _styles=new Array;for(var i in this.__proto__){var _t=true;if(i=="listAlgos")_t=false;else if(i=="fillArray")_t=false;else if(i=="fillFloat32Array")_t=false;else if(i=="fillFloat64Array")_t=false;if(_t)_styles.push(i)}return _styles};p5.Ease.prototype.fillArray=function(_algo,_len,_args){var _dest=new Array(_len);for(var i=0;i<_len;i++){var _p=i/(_len-1);_dest[i]=this[_algo](_p,_args)}return _dest};p5.Ease.prototype.fillFloat32Array=function(_algo,_len,_args){var _dest=new Float32Array(_len);for(var i=0;i<_len;i++){var _p=i/(_len-1);_dest[i]=this[_algo](_p,_args)}return _dest};p5.Ease.prototype.fillFloat64Array=function(_algo,_len,_args){var _dest=new Float64Array(_len);for(var i=0;i<_len;i++){var _p=i/(_len-1);_dest[i]=this[_algo](_p,_args)}return _dest};p5.ArrayEval=function(){this.version=.01;var that=this;var l1=0;var l2=0;var l3=0};p5.ArrayEval.prototype.eval=function(_evalstr,_l1){this.l1=_l1;var multi=0;var e;if(Array.isArray(_evalstr))multi=1;var _dest;if(multi)_dest=createArray(_l1,_evalstr.length);else _dest=createArray(_l1);if(multi){for(e in _evalstr){_evalstr[e]=_evalstr[e].replace(/cu/g,"i");_evalstr[e]=_evalstr[e].replace(/du/g,"l1");_evalstr[e]=_evalstr[e].replace(/su/g,"(i/(l1-1)*2.-1.)");_evalstr[e]=_evalstr[e].replace(/u/g,"(i/(l1-1))")}}else{_evalstr=_evalstr.replace(/cu/g,"i");_evalstr=_evalstr.replace(/du/g,"l1");_evalstr=_evalstr.replace(/su/g,"(i/(l1-1)*2.-1.)");_evalstr=_evalstr.replace(/u/g,"(i/(l1-1))")}for(var i=0;i<this.l1;i++){if(multi){for(e=0;e<_evalstr.length;e++){_dest[i][e]=eval("with(this) { "+_evalstr[e]+" }")}}else _dest[i]=eval("with(this) { "+_evalstr+" }")}return _dest};p5.ArrayEval.prototype.eval1d=function(_evalstr,_l1){return this.eval(_evalstr,_l1)};p5.ArrayEval.prototype.eval2d=function(_evalstr,_l1,_l2){this.l1=_l1;this.l2=_l2;var multi=0;var e;if(Array.isArray(_evalstr))multi=1;var _dest;if(multi)_dest=createArray(_l1,_l2,_evalstr.length);else _dest=createArray(_l1,_l2);if(multi){for(e in _evalstr){_evalstr[e]=_evalstr[e].replace(/cu/g,"i");_evalstr[e]=_evalstr[e].replace(/du/g,"l1");_evalstr[e]=_evalstr[e].replace(/su/g,"(i/(l1-1)*2.-1.)");_evalstr[e]=_evalstr[e].replace(/u/g,"(i/(l1-1))");_evalstr[e]=_evalstr[e].replace(/cv/g,"j");_evalstr[e]=_evalstr[e].replace(/dv/g,"l2");_evalstr[e]=_evalstr[e].replace(/sv/g,"(j/(l2-1)*2.-1.)");_evalstr[e]=_evalstr[e].replace(/v/g,"(j/(l2-1))")}}else{_evalstr=_evalstr.replace(/cu/g,"i");_evalstr=_evalstr.replace(/du/g,"l1");_evalstr=_evalstr.replace(/su/g,"(i/(l1-1)*2.-1.)");_evalstr=_evalstr.replace(/u/g,"(i/(l1-1))");_evalstr=_evalstr.replace(/cv/g,"j");_evalstr=_evalstr.replace(/dv/g,"l2");_evalstr=_evalstr.replace(/sv/g,"(j/(l2-1)*2.-1.)");_evalstr=_evalstr.replace(/v/g,"(j/(l2-1))")}for(var i=0;i<this.l1;i++){for(var j=0;j<this.l2;j++){if(multi){for(e=0;e<_evalstr.length;e++){_dest[i][j][e]=eval("with(this) { "+_evalstr[e]+" }")}}else _dest[i][j]=eval("with(this) { "+_evalstr+" }")}}return _dest};p5.ArrayEval.prototype.eval3d=function(_evalstr,_l1,_l2,_l3){this.l1=_l1;this.l2=_l2;this.l3=_l3;var multi=0;var e;if(Array.isArray(_evalstr))multi=1;var _dest;if(multi)_dest=createArray(_l1,_l2,_l3,_evalstr.length);else _dest=createArray(_l1,_l2,_l3);if(multi){for(e in _evalstr){_evalstr[e]=_evalstr[e].replace(/cu/g,"i");_evalstr[e]=_evalstr[e].replace(/du/g,"l1");_evalstr[e]=_evalstr[e].replace(/su/g,"(i/(l1-1)*2.-1.)");_evalstr[e]=_evalstr[e].replace(/u/g,"(i/(l1-1))");_evalstr[e]=_evalstr[e].replace(/cv/g,"j");_evalstr[e]=_evalstr[e].replace(/dv/g,"l2");_evalstr[e]=_evalstr[e].replace(/sv/g,"(j/(l2-1)*2.-1.)");_evalstr[e]=_evalstr[e].replace(/v/g,"(j/(l2-1))");_evalstr[e]=_evalstr[e].replace(/cw/g,"k");_evalstr[e]=_evalstr[e].replace(/dw/g,"l3");_evalstr[e]=_evalstr[e].replace(/sw/g,"(k/(l3-1)*2.-1.)");_evalstr[e]=_evalstr[e].replace(/w/g,"(k/(l3-1))")}}else{_evalstr=_evalstr.replace(/cu/g,"i");_evalstr=_evalstr.replace(/du/g,"l1");_evalstr=_evalstr.replace(/su/g,"(i/(l1-1)*2.-1.)");_evalstr=_evalstr.replace(/u/g,"(i/(l1-1))");_evalstr=_evalstr.replace(/cv/g,"j");_evalstr=_evalstr.replace(/dv/g,"l2");_evalstr=_evalstr.replace(/sv/g,"(j/(l2-1)*2.-1.)");_evalstr=_evalstr.replace(/v/g,"(j/(l2-1))");_evalstr=_evalstr.replace(/cw/g,"k");_evalstr=_evalstr.replace(/dw/g,"l3");_evalstr=_evalstr.replace(/sw/g,"(k/(l3-1)*2.-1.)");_evalstr=_evalstr.replace(/w/g,"(k/(l3-1))")}for(var i=0;i<this.l1;i++){for(var j=0;j<this.l2;j++){for(var k=0;k<this.l3;k++){if(multi){for(e=0;e<_evalstr.length;e++){_dest[i][j][k][e]=eval("with(this) { "+_evalstr[e]+" }")}}else _dest[i][j][k]=eval("with(this) { "+_evalstr+" }")}}}return _dest};p5.Filt=function(_fs){if(!_fs)_fs=60;this.version=.01;var that=this;this.a0=1;this.b0=1;this.a1=0;this.b1=0;this.a2=0;this.b2=0;this.xn=0;this.yn=0;this.xpn=0;this.ypn=0;this.xppn=0;this.yppn=0;this.fs=_fs;this.type="LPF";this.f0=this.fs/4;this.dB=0;this.Q=1;this.A;this.w0;this.cw0;this.sw0;this.alpha;this.soff;this.precalc()};p5.Filt.prototype.set=function(_type,_f0,_Q,_dB){if(_type)this.type=_type;if(_f0)this.f0=_f0;if(_Q)this.Q=_Q;if(_dB)this.dB=_dB;this.precalc()};p5.Filt.prototype.setFs=function(_fs){if(_fs)this.fs=_fs;this.precalc()};p5.Filt.prototype.setType=function(_type){if(_type)this.type=_type;this.precalc()};p5.Filt.prototype.setFreq=function(_f0){if(_f0)this.f0=_f0;this.precalc()};p5.Filt.prototype.setQ=function(_Q){if(_Q)this.Q=_Q;this.precalc()};p5.Filt.prototype.setGain=function(_dB){if(_dB)this.dB=_dB;this.precalc()};p5.Filt.prototype.setBW=function(_bw){if(_bw)this.Q=this.f0/_bw;this.precalc()};p5.Filt.prototype.process=function(_x){var _y;if(Array.isArray(_x))_y=new Array(_x.length);if(_x.constructor==Float32Array)_y=new Float32Array(_x.length);if(_x.constructor==Float64Array)_y=new Float64Array(_x.length);for(var i in _x){_y[i]=this.tick(_x[i])}return _y};p5.Filt.prototype.tick=function(_x){this.xn=_x;this.yn=this.b0/this.a0*this.xn+this.b1/this.a0*this.xpn+this.b2/this.a0*this.xppn-this.a1/this.a0*this.ypn-this.a2/this.a0*this.yppn;this.xppn=this.xpn;this.xpn=this.xn;this.yppn=this.ypn;this.ypn=this.yn;return this.yn};p5.Filt.prototype.clear=function(){this.xn=0;this.yn=0;this.xpn=0;this.ypn=0;this.xppn=0;this.yppn=0};p5.Filt.prototype.coeffs=function(_a0,_b0,_b1,_b2,_a1,_a2){if(arguments.length!=6){console.log("p5.Filt needs six coefficients for raw biquad:");console.log("     a0 -> denominator gain for filter (y[n] term).");console.log("     b0 -> gain for current input (x[n] term).");console.log("     b1 -> gain for previous input (x[n-1] term).");console.log("     b2 -> gain for previous previous input (x[n-2] term).");console.log("     a1 -> gain for previous output (y[n-1] term).");console.log("     a2 -> gain for previous previous output (y[n-2] term).");console.log("when working with 5-coefficient biquad formulae set a0 to 1.0.");console.log("n.b. some systems will refer to y terms as 'b' and x terms as 'a'.")}else{this.a0=_a0;this.b0=_b0;this.b1=_b1;this.b2=_b2;this.a1=_a1;this.a2=_a2}};p5.Filt.prototype.precalc=function(){this.A=sqrt(pow(10,this.dB/20));this.w0=2*PI*this.f0/this.fs;this.cw0=cos(this.w0);this.sw0=sin(this.w0);this.alpha=sin(this.w0)/(2*this.Q);this.soff=2*sqrt(this.A)*this.alpha;switch(this.type){case"LPF":case"lowpass":this.b0=(1-this.cw0)/2;this.b1=1-this.cw0;this.b2=(1-this.cw0)/2;this.a0=1+this.alpha;this.a1=-2*this.cw0;this.a2=1-this.alpha;break;case"HPF":case"highpass":this.b0=(1+this.cw0)/2;this.b1=-(1+this.cw0);this.b2=(1+this.cw0)/2;this.a0=1+this.alpha;this.a1=-2*this.cw0;this.a2=1-this.alpha;break;case"BPF":case"bandpass":this.b0=this.sw0/2;this.b1=0;this.b2=-this.sw0/2;this.a0=1+this.alpha;this.a1=-2*this.cw0;this.a2=1-this.alpha;break;case"BPF0":case"resonant":this.b0=this.alpha;this.b1=0;this.b2=-this.alpha;this.a0=1+this.alpha;this.a1=-2*this.cw0;this.a2=1-this.alpha;break;case"notch":case"bandreject":case"bandstop":this.b0=1;this.b1=-2*this.cw0;this.b2=1;this.a0=1+this.alpha;this.a1=-2*this.cw0;this.a2=1-this.alpha;break;case"APF":case"allpass":this.b0=1-this.alpha;this.b1=-2*this.cw0;this.b2=1+this.alpha;this.a0=1+this.alpha;this.a1=-2*this.cw0;this.a2=1-this.alpha;break;case"peakingEQ":case"peaknotch":this.b0=1+this.alpha*this.A;this.b1=-2*this.cw0;this.b2=1-this.alpha*this.A;this.a0=1+this.alpha/this.A;this.a1=-2*this.cw0;this.a2=1-this.alpha/this.A;break;case"lowShelf":case"lowshelf":this.b0=this.A*(this.A+1-(this.A-1)*this.cw0+this.soff);this.b1=2*this.A*(this.A-1-(this.A+1)*this.cw0);this.b2=this.A*(this.A+1-(this.A-1)*this.cw0-this.soff);this.a0=this.A+1+(this.A-1)*this.cw0+this.soff;this.a1=-2*(this.A-1+(this.A+1)*this.cw0);this.a2=this.A+1+(this.A-1)*this.cw0-this.soff;break;case"highShelf":case"highshelf":this.b0=this.A*(this.A+1+(this.A-1)*this.cw0+this.soff);this.b1=-2*this.A*(this.A-1+(this.A+1)*this.cw0);this.b2=this.A*(this.A+1+(this.A-1)*this.cw0-this.soff);this.a0=this.A+1-(this.A-1)*this.cw0+this.soff;this.a1=2*(this.A-1-(this.A+1)*this.cw0);this.a2=this.A+1-(this.A-1)*this.cw0-this.soff;break;default:this.b0=1;this.b1=0;this.b2=0;this.a0=1;this.a1=0;this.a2=0;break}};p5.FastFourierTransform=function(_bufsize,_fs,_hopsize){this.bufferSize=_bufsize?_bufsize:512;this.hopSize=_hopsize?_hopsize:this.bufferSize;this.sampleRate=_fs?_fs:60;this.bandwidth=this.sampleRate/this.bufferSize;this.real=new Float64Array(this.bufferSize);this.imag=new Float64Array(this.bufferSize);this.doSpectrum=true;this.magnitude=new Float64Array(this.bufferSize/2);this.phase=new Float64Array(this.bufferSize/2);this.doFrequency=false;this.runningphase=new Float64Array(this.bufferSize/2);this.previousphase=new Float64Array(this.bufferSize/2);this.frequency=new Float64Array(this.bufferSize/2);this.peakBand=0;this.peak=0;this.reverseTable=new Uint32Array(this.bufferSize);var limit=1;var bit=this.bufferSize>>1;var i;while(limit<this.bufferSize){for(i=0;i<limit;i++){this.reverseTable[i+limit]=this.reverseTable[i]+bit}limit=limit<<1;bit=bit>>1}this.sinTable=new Float64Array(this.bufferSize);this.cosTable=new Float64Array(this.bufferSize);for(i=0;i<this.bufferSize;i++){this.sinTable[i]=sin(-PI/i);this.cosTable[i]=cos(-PI/i)}};p5.FastFourierTransform.prototype.getBandFrequency=function(_index){return this.bandwidth*_index};p5.FastFourierTransform.prototype.calculateSpectrum=function(){var rval,ival,mag,phase;var bSi=2/this.bufferSize;this.peakBand=0;this.peak=0;for(var i=0,N=this.bufferSize/2;i<N;i++){rval=this.real[i];ival=this.imag[i];mag=bSi*sqrt(rval*rval+ival*ival);phase=atan2(ival,rval);if(mag>this.peak){this.peakBand=i;this.peak=mag}this.magnitude[i]=mag;this.phase[i]=phase}if(this.doFrequency)this.calculateFrequency()};p5.FastFourierTransform.prototype.calculateFrequency=function(){var temp=Array.from(this.phase);this.runningphase=subtractArray(temp,this.previousphase);this.runningphase=addArray(this.runningphase,TWO_PI+PI);this.runningphase=moduloArray(this.runningphase,TWO_PI);this.runningphase=subtractArray(this.runningphase,PI);this.previousphase=temp;for(i in this.frequency){this.frequency[i]=this.bandwidth*i+this.runningphase[i]*this.sampleRate/(TWO_PI*this.hopSize)}};p5.FastFourierTransform.prototype.forward=function(_buffer){var k=floor(log(this.bufferSize)/Math.LN2);if(pow(2,k)!==this.bufferSize){throw"buffer size must be a power of 2."}if(this.bufferSize!==_buffer.length){throw"buffer is not the same size as defined FFT. FFT: "+bufferSize+" buffer: "+buffer.length}var halfSize=1;var phaseShiftStepReal,phaseShiftStepImag;var currentPhaseShiftReal,currentPhaseShiftImag;var tr,ti;var tmpReal;var i,o;for(i=0;i<this.bufferSize;i++){this.real[i]=_buffer[this.reverseTable[i]];this.imag[i]=0}while(halfSize<this.bufferSize){phaseShiftStepReal=this.cosTable[halfSize];phaseShiftStepImag=this.sinTable[halfSize];currentPhaseShiftReal=1;currentPhaseShiftImag=0;for(var fftStep=0;fftStep<halfSize;fftStep++){i=fftStep;while(i<this.bufferSize){o=i+halfSize;tr=currentPhaseShiftReal*this.real[o]-currentPhaseShiftImag*this.imag[o];ti=currentPhaseShiftReal*this.imag[o]+currentPhaseShiftImag*this.real[o];this.real[o]=this.real[i]-tr;this.imag[o]=this.imag[i]-ti;this.real[i]+=tr;this.imag[i]+=ti;i+=halfSize<<1}tmpReal=currentPhaseShiftReal;currentPhaseShiftReal=tmpReal*phaseShiftStepReal-currentPhaseShiftImag*phaseShiftStepImag;currentPhaseShiftImag=tmpReal*phaseShiftStepImag+currentPhaseShiftImag*phaseShiftStepReal}halfSize=halfSize<<1}if(this.doSpectrum)this.calculateSpectrum()};p5.FastFourierTransform.prototype.inverse=function(_real,_imag){_real=_real||this.real;_imag=_imag||this.imag;var halfSize=1;var phaseShiftStepReal,phaseShiftStepImag;var currentPhaseShiftReal,currentPhaseShiftImag;var off;var tr,ti;var tmpReal;var i;for(i=0;i<this.bufferSize;i++){_imag[i]*=-1}var revReal=new Float64Array(this.bufferSize);var revImag=new Float64Array(this.bufferSize);for(i=0;i<_real.length;i++){revReal[i]=_real[this.reverseTable[i]];revImag[i]=_imag[this.reverseTable[i]]}_real=revReal;_imag=revImag;while(halfSize<this.bufferSize){phaseShiftStepReal=this.cosTable[halfSize];phaseShiftStepImag=this.sinTable[halfSize];currentPhaseShiftReal=1;currentPhaseShiftImag=0;for(var fftStep=0;fftStep<halfSize;fftStep++){i=fftStep;while(i<this.bufferSize){off=i+halfSize;tr=currentPhaseShiftReal*_real[off]-currentPhaseShiftImag*_imag[off];ti=currentPhaseShiftReal*_imag[off]+currentPhaseShiftImag*_real[off];_real[off]=_real[i]-tr;_imag[off]=_imag[i]-ti;_real[i]+=tr;_imag[i]+=ti;i+=halfSize<<1}tmpReal=currentPhaseShiftReal;currentPhaseShiftReal=tmpReal*phaseShiftStepReal-currentPhaseShiftImag*phaseShiftStepImag;currentPhaseShiftImag=tmpReal*phaseShiftStepImag+currentPhaseShiftImag*phaseShiftStepReal}halfSize=halfSize<<1}var buffer=new Float64Array(this.bufferSize);for(i=0;i<this.bufferSize;i++){buffer[i]=_real[i]/this.bufferSize}return buffer};p5.prototype.imap=function(_x,_a,_b,_c,_d){return constrain(floor(map(_x,_a,_b,_c,_d)),min(_c,_d),max(_c,_d)-1)};p5.prototype.wrap=function(_x,_min,_max){_a=min(_min,_max);_b=max(_min,_max);var _y;var _r=_b-_a;if(_x<_b&&_x>=_a){return _x}else if(_a==_b){return _a}else{if(_x<_a){_y=_x;while(_y<_a){_y+=_r}}else{_y=(_x-_a)%_r+_a}}return _y};p5.prototype.fold=function(_x,_min,_max){_a=min(_min,_max);_b=max(_min,_max);var _y;var _r=_b-_a;if(_x<_b&&_x>=_a){return _x}else if(_a==_b){return _a}else{if(_x<_a){var _d=_a-_x;var _m=floor(_d/_r);if(_m%2==0){_d=_d-_m*_r;_y=_d+_a}else{_d=_d-_m*_r;_y=_b-_d}}else{var _d=_x-_b;var _m=floor(_d/_r);if(_m%2==0){_d=_d-_m*_r;_y=_b-_d}else{_d=_d-_m*_r;_y=_d+_a}}}return _y};p5.prototype.createArray=function(_len){var _arr=new Array(_len||0).fill(0),i=_len;if(arguments.length>1){var args=Array.prototype.slice.call(arguments,1);while(i--)_arr[_len-1-i]=this.createArray.apply(this,args)}return _arr};p5.prototype.normalizeArray=function(_array){var _max=max(max(_array),abs(min(_array)));return _array.map(function(_v){return _v/_max})};p5.prototype.resizeArray=function(_array,_newlen){var _out=[];for(var i=0;i<_newlen;i++){var aptr=map(i,0,_newlen-1,0,_array.length-1);var a=floor(aptr);var b=ceil(aptr);var l=aptr%1;_out[i]=lerp(_array[a],_array[b],l)}return _out};p5.prototype.multiplyArray=function(_a1,_a2){if(!Array.isArray(_a2))_a2=[_a2];var _out=[];if(_a1.length!=_a2.length)_a2=resizeArray(_a2,_a1.length);for(var i=0;i<_a1.length;i++){_out[i]=_a1[i]*_a2[i]}return _out};p5.prototype.addArray=function(_a1,_a2){if(!Array.isArray(_a2))_a2=[_a2];var _out=[];if(_a1.length!=_a2.length)_a2=resizeArray(_a2,_a1.length);for(var i=0;i<_a1.length;i++){_out[i]=_a1[i]+_a2[i]}return _out};p5.prototype.subtractArray=function(_a1,_a2){if(!Array.isArray(_a2))_a2=[_a2];var _out=[];if(_a1.length!=_a2.length)_a2=resizeArray(_a2,_a1.length);for(var i=0;i<_a1.length;i++){_out[i]=_a1[i]-_a2[i]}return _out};p5.prototype.divideArray=function(_a1,_a2){if(!Array.isArray(_a2))_a2=[_a2];var _out=[];if(_a1.length!=_a2.length)_a2=resizeArray(_a2,_a1.length);for(var i=0;i<_a1.length;i++){_out[i]=_a1[i]/_a2[i]}return _out};p5.prototype.moduloArray=function(_a1,_a2){if(!Array.isArray(_a2))_a2=[_a2];var _out=[];if(_a1.length!=_a2.length)_a2=resizeArray(_a2,_a1.length);for(var i=0;i<_a1.length;i++){_out[i]=_a1[i]%_a2[i]}return _out};p5.prototype.sumArray=function(_a){var _s=_a.reduce(function(_acc,_val){return _acc+_val});return _s};p5.prototype.f2ib=function(_x){var int8=new Int8Array(4);var int32=new Int32Array(int8.buffer,0,1);var float32=new Float32Array(int8.buffer,0,1);float32[0]=_x;return int32[0]};p5.prototype.ib2f=function(_x){var int8=new Int8Array(4);var int32=new Int32Array(int8.buffer,0,1);var float32=new Float32Array(int8.buffer,0,1);int32[0]=_x;return float32[0]};p5.prototype.sinc=function(_x){return sin(PI*_x)/(PI*_x)};p5.prototype.besselI0=function(_x){var denominator;var numerator;var z;if(_x==0){return 1}else{z=_x*_x;numerator=z*(z*(z*(z*(z*(z*(z*(z*(z*(z*(z*(z*(z*(z*210580722890567e-37+3.80715242345326e-20)+4794402575483e-29)+435125971262668e-28)+30093112711296e-24)+1.60224679395361e-8)+654858370096785e-20)+.00202591084143397)+.463076284721)+75.4337328948189)+8307.92541809429)+571661.130563785)+21641557.2361227)+356644482.244025)+1440482982.27235;denominator=z*(z*(z-3076.46912682801)+3476263.32405882)-1440482982.27235}return-numerator/denominator};p5.prototype.fplot=function(_array,_css){var a;if(!Array.isArray(_array))a=[_array];if(Array.isArray(_array))a=_array;if(_array.constructor==Float32Array)a=Array.prototype.slice.call(_array);if(_array.constructor==Float64Array)a=Array.prototype.slice.call(_array);var TERMWIDTH=80;var TERMHEIGHT=23;var out=[];var si,phase;var i,j,k,len,wave;var line="";len=_array.length;out=resizeArray(a,TERMWIDTH);out=normalizeArray(out);si=1/((TERMHEIGHT-1)/2);phase=1;for(i=0;i<TERMHEIGHT;i++){k=0;if(i%2)line="~";else line="|";for(j=0;j<TERMWIDTH-1;j++){if(isNaN(out[j]))out[j]=0;if(out[j]>=phase&&out[j]<phase+si){line+=out[j+1]>phase+si?"/":"-";if(out[j+1]<phase)line+="\\";k=j}else if(out[j]<phase&&out[j+1]>phase+si||out[j]>phase+si&&out[j+1]<phase){line+="|";k=j}else line+=" "}if(0>=phase&&0<phase+si){line="~";for(j=0;j<TERMWIDTH;j++)line+="-";k=TERMWIDTH-2}console.log("%c"+line,_css);phase-=si}return 0}});